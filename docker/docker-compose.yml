services:
  avalanche:
    image: avaplatform/avalanchego
    container_name: avax
    command:
      [
        "/avalanchego/build/avalanchego",
        "--db-dir=/data/avax",
        "--http-host=0.0.0.0",
        "--http-allowed-hosts=*"
      ]
    ports:
      - 9650:9650
      - 9651:9651
    volumes:
      - ../avax-data:/data/avax
      - ../pruning-data:/root/pruning-data
      - ./staking/staker.key:/root/.avalanchego/staking/staker.key
      - ./staking/staker.cert:/root/.avalanchego/staking/staker.crt
      - ./chain-config.json:/root/.avalanchego/configs/chains/C/config.json
    restart: unless-stopped
